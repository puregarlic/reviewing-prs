import { Invert } from 'mdx-deck/layouts'
import { Head, Appear, Notes, Image } from 'mdx-deck'
import { CodeSurfer } from 'mdx-deck-code-surfer'

import { SplitGood, SplitWithTitle } from './layouts'

export { swiss as theme } from 'mdx-deck/themes'

<Head>
  <title>Reviewing Pull Requests</title>
</Head>

# Reviewing PRs

#### Graham Barber

```notes
- PRs are like checkpoints
  - Keep unwanted problems out
  - Easy when reviewers are blind
  - Frustration or indifference
```

---

<Image src="https://media.giphy.com/media/R459x856IfF6w/giphy.gif" />

```notes
> Probably you
```

---

export default Invert

# Today...

```notes
We're going to cover
- Objectives
- What to look for
- CASS's recommended process

Applies to GitHub, GitLab, and Bitbucket
```

---

## Objectives

<ul>
  <Appear>
    <li>Ensure functionality</li>
    <li>Maintain readable code</li>
    <li>Prevent technical debt</li>
    <li>Learn something new</li>
  </Appear>
</ul>

---

## Ensure Functionality

```notes
- Bare minimum
- Tests help to a point
- Above all, **run it**

## Don't introduce broken code

- Prevents rushed-fixes further down the line

- Essential part of Continuous Integration
```

---

## Maintain Readable Code

```notes
- If you don't know what it does, the next person
  probably won't either
- Don't let the writer sit next to you
- Use a formatter

## If you don't understand the code, it will bite

- Documentation is a multivitamin, not a pain reliever
```

---

## Prevent Technical Debt

```notes
- Refactoring *now* is good *late*
- What's done now is not rushed later
- Not everybody knows best or alternative
  practices
- Ask someone else!
- Use a linter

## Don't let anyone take the easy way out

- Never be afraid to request changes
```

---

## Learn Something New

```notes
- Exposure to diversity is important
  - People solve problems differently
  - People know things that you don't
- Talk with the code writer _after_ looking
  over everything
- Do some research if you need it
  - Ask an expert

> Do your best to make sure you or the writer
  learns something new

- Helps you grow as a developer
```

---

import ultramin from 'prism-react-renderer/themes/ultramin'

<CodeSurfer
  title="Things to Look For"
  code={require("!raw-loader!./sample.js")}
  theme={ultramin}
  lang="javascript"
  showNumbers={false}
  dark={false}
  steps={[
    { tokens: {12: [4, 5, 6, 7, 8, 9], 1: [0], 2: [0, 1]}, notes: 'Use of outdated language features' },
    { tokens: {1: [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18], 2: [5, 6, 7, 8, 9]}, notes: 'Not taking advantage of language features' },
    { range: [4, 7], notes: 'Repetition where iteration should be used'},
    { tokens: {1: [1], 2: [2], 9: [2], 10: [2]}, notes: 'Inconsistent naming conventions' },
    { tokens: {9: [2], 12: [7]}, notes: 'Misspelled variable names' },
    { tokens: {10: [5]}, notes: 'Misspelled strings'},
    { lines: [12], notes: 'Logging debug messages to the console'},
    { range: [14, 18], notes: 'Unhandled branching logic'},
    { range: [20, 24], notes: 'Nested ternaries'}
  ]}
/>

```notes
I've prepared this nasty demo code

... After walking through...

- You might not know that these things are bad
  - That's okay!
- You might not know what to suggest instead
  - Ask someone!
  - Research!

> Learn something new
```

---

export default SplitWithTitle

## Questions You Should Ask

<div>

### Yourself

<ol>
  <Appear>
    <li>How does this compare to what I would do?</li>
    <li>Do I understand what this code is doing?</li>
    <li>Is this code relatively future-proof?</li>
  </Appear>
</ol>

</div>


<div>

### Writer

<ol>
  <Appear>
    <li>Why did you implement ______ this way?</li>
    <li>How do you feel about your implementation?</li>
    <li>What would you improve about your implementation?</li>
  </Appear>
</ol>

</div>